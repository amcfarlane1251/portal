<?php 
/*
<!--
<h2 class="tools"> Tools </h2>-->
<ul class="ot">
<!--
<li class="lrl"><a href="http://198.164.43.11/directory/"  target="_blank"></a></li>
<li class="lpr"><a href="http://198.164.43.11/lpr/" target="_blank"></a></li> -->
<li class="dr"><a href="http://198.164.43.14/" target="_blank" ></a></li>
<!--<li class="wbc"><a href="http://s4.ongarde.net/bigbluebutton/demo/demo1.jsp" target="_blank"></a></li>
<li class="gsa"><a href="http://198.164.43.12" target="_blank" ></a></li>-->
<li class="ep"><a href="http://198.164.43.11:9000/" target="_blank" ></a></li>
<!--
<li class="vw"><a href="http://198.164.40.24:9000/wifi/" target="_blank" ></a></li>
-->
<li class="hd"><a href="http://198.164.43.16/handles/index.py" target="_blank" ></a></li>
<li class="sc"><a href="http://198.164.43.7/channel/" target="_blank" ></a></li>
</ul>
<!--
<li><a href="http://198.164.43.14/" target="_blank" >3D Repository</a></li>
<li><a href="http://198.164.43.11:9000/" target="_blank" >EtherPad</a></li>
<li><a href="http://198.164.43.16/handles/index.py" target="_blank" >Handles</a></li>
<li><a href="http://198.164.43.7/channel/" target="_blank" >Security Channel</a></li>
-->
*/ 
?>

<?php

	$links['AKE']['internet']['en']="<a href='http://s7.ongarde.net/alsc/'>AKE</a>";
	$links['AKE']['internet']['fr']="<a href='http://s7.ongarde.net/alsc/'>ECA</a>";
	$links['ISAT']['internet']['en']="<a href='http://s3.ongarde.net/isat/portal/index.php'>ISAT</a>";
	$links['ISAT']['internet']['fr']="<a href='http://s3.ongarde.net/isat/portal/index.php'>ASIF</a>";
	$links['DNDLearn']['dwan']['en']="<a href='https://dln-rad.forces.gc.ca/login'>DLN (Internet)</a>";
	$links['DNDLearn']['dwan']['fr']="<a href='https://dln-rad.forces.gc.ca/login'>RAD (Internet)</a>";
	$links['DNDLearn']['internet']['en']="<a href='http://dln-rad.mil.ca/'>DLN (DWAN)</a>";
	$links['DNDLearn']['internet']['fr']="<a href='http://dln-rad.mil.ca/'>RAD (DWAN)</a>";
	$links['Conferencing']['internet']['en']="<a href='http://s3.ongarde.net/portal/pages/view/99/web-conferencing-conference-web'>Conferencing</a>";
	$links['Conferencing']['internet']['fr']="<a href='http://s3.ongarde.net/portal/pages/view/99/web-conferencing-conference-web'>conférence</a>";
	$links['EILP']['internet']['en']="<a href='http://img-dcb-ioutpro.forces.mil.ca:88/ilp'>ILP (DWAN)</a>";
	$links['EILP']['internet']['fr']="<a href='http://img-dcb-ioutpro.mil.ca:88/ilp'>PDI (DWAN)</a>";
	$links['CFC']['internet']['en']="<a href='http://www.cfc.forces.gc.ca/188/223-eng.html'>CFC Virtual Library</a>";
	$links['CFC']['internet']['fr']="<a href='http://www.cfc.forces.gc.ca/188/223-fra.html'>CFC BibliothéCque virtuelle</a>";
	$links['LCCS']['internet']['en']="<a href='http://hrciv-rhciv.mil.ca/en/p-learning-career-centres.page'>LCCS</a>";
	$links['LCCS']['internet']['fr']="<a href='http://hrciv-rhciv.mil.ca/en/p-learning-career-centres.page'>ACC</a>";
	$links['AppStore']['internet']['en']="<a href='http://s3.ongarde.net/portal/pages/view/100/caf-mobile-apps-store'>App Store</a>";
	$links['AppStore']['internet']['fr']="<a href='http://s3.ongarde.net/portal/pages/view/100/caf-mobile-apps-store'>Applications magasin</a>";
	$links['LPR']['dwan']['en']="<a href='http://learningprojects.mil.ca'>Learning Projects Registry</a>";
	$links['LPR']['dwan']['fr']="<a href='http://learningprojects.mil.ca'>Learning Projects Registry</a>";
	$links['Repository']['internet']['en']="<a href='http://3dr.ongarde.net'>3D Repository</a>";
	$links['Repository']['internet']['fr']="<a href='http://3dr.ongarde.net'>3d rérentiel</a>";
	$links['CodeL']['internet']['en']="<a href='http://lrs.ongarde.net/coderepo'>Code Library</a>";
	$links['CodeL']['internet']['fr']="<a href='http://lrs.ongarde.net/coderepo'>Code Library</a>";	
	$links['Allies']['internet']['en']="<a href='http://www.forces.gc.ca/en/training-elearning/second-language-allies.page'>ALLIES</a>";
	$links['Allies']['internet']['fr']="<a href='http://www.forces.gc.ca/fr/instruction-apprentissage-en-ligne/langue-seconde-allies.page'>ALLIES</a>";
	$links['KMS']['dwan']['en']="<a href='http://kms.mil.ca/kms/Default.aspx'>KMS (DWAN)</a>";	
	$links['KMS']['dwan']['fr']="<a href='http://kms.mil.ca/kms/Default.aspx'>KMS (DWAN)</a>";
	$links['KA']['internet']['en']="<a href='https://www.khanacademy.org'>Khan Academy</a>";
	$links['FORUM']['internet']['en']="<a href='http://www.ongarde.net/forum'>Discussion Forum</a>";
	$links['FORUM']['internet']['fr']="<a href='http://www.ongarde.net/forum'>Discussion Forum</a>";
    $links['SUPPORT']['internet']['en']="<a href='http://s3.ongarde.net/portal/pages/view/1138/support-help'>Support (Help)</a>";
	$links['SUPPORT']['internet']['fr']="<a href='http://s3.ongarde.net/portal/pages/view/1138/support-help'>Support (Aide)</a>";
	$links['TE']['internet']['en']="<a href='http://s3.ongarde.net/portal/groups/profile/1154/training-and-education-job-aid-repository'>T&E Job Aid Repository</a>";
	$links['TE']['internet']['fr']="<a href='http://s3.ongarde.net/portal/groups/profile/1154/training-and-education-job-aid-repository'>T&E Aide</a>";    
	$links['TERM']['internet']['en']="<a href='http://www.btb.termiumplus.gc.ca/'>Termium</a>";
	$links['TERM']['internet']['fr']="<a href='http://www.btb.termiumplus.gc.ca/'>Termium</a>";
	$links['CAFCOD']['internet']['en']="<a href='http://cafcod.accc.ca/en/index'>CAFCOD</a>";  	
	$links['CAFCOD']['internet']['fr']="<a href='http://cafcod.accc.ca/fr/index'>RPFCFAC</a>";
	$links['LANGDOC']['internet']['en']="<a href='#' title='Under Construction' >Language Tools</a>";
	$links['LANGDOC']['internet']['fr']="<a href='#' title='en cours de construction'>Outils Linguistiques</a>";
 $links['CMR']['internet']['en']="<a href='http://s3.ongarde.net/courses/cmr_en/Methodology/player.html'>Student Success</a>";
$links['CMR']['internet']['fr']="<a href='http://s3.ongarde.net/courses/cmr_fr/Methodologie/player.html'>réussite des étudiants</a>";





	$trainingmgr=array($links['DNDLearn'], $links['TE'], $links['Conferencing'], $links['ISAT'], $links['TERM'], $links['CAFCOD'], $links['SUPPORT']);
	$instructor=array($links['Allies'], $links['AKE'], $links['ISAT'], $links['DNDLearn'], $links['Conferencing'], $links['KMS'], $links['TE'], $links['TERM'],   $links['SUPPORT']);
	$developer=array($links['Repository'], $links['ISAT'], $links['DNDLearn'], $links['AKE'], $links['CodeL'], $links['KMS'], $links['TE'], $links['TERM'],  $links['SUPPORT']);
	$learner=array($links['Allies'], $links['DNDLearn'], $links['EILP'], $links['CFC'], $links['LCCS'], $links['AKE'], $links['TE'], $links['CMR'], $links['KA'], $links['LANGDOC'],$links['Conferencing'], $links['TERM'],   $links['SUPPORT']);
	$home=array($links['Allies'], $links['DNDLearn'], $links['AppStore'], $links['AKE'], $links['TE'], $links['Conferencing'], $links['LANGDOC'],$links['KMS'], $links['TERM'],  $links['SUPPORT']);
	
	if(isset($_SESSION['role'])){
		switch($_SESSION['role']){
			case "instructor":
				$linkArray=$instructor;
				$role="instructor";
				$message="<h3 class='instructor'>".elgg_echo('widget_manager:widgets:ongarde_toolbox:instructorHeading')."</h3>";
				break;
			case "learner":	
				$linkArray=$learner;
				$role="learner";
				$message="<h3 class='learner'>".elgg_echo('widget_manager:widgets:ongarde_toolbox:learnerHeading')."</h3>";
				break;
			case "developer":	
				$role="developer";
				$linkArray=$developer;
				$message="<h3 class='developer'>".elgg_echo('widget_manager:widgets:ongarde_toolbox:developerHeading')."</h3>";
				break;			
			case "trainingmgr":
				$role="trainingmgr";
				$linkArray=$trainingmgr;
				$message="<h3 class='trainingmgr'>".elgg_echo('widget_manager:widgets:ongarde_toolbox:trainingmgrHeading')."</h3>";
				break;
			default:
				$role="all";
				$linkArray=$home;
				$message="<h3 class='all'>".elgg_echo('widget_manager:widgets:ongarde_toolbox:homeHeading')."</h3>";
				break;
		}
	} else {
		$role="all";
		$linkArray=$home;
		$message="<h3 class='all'>".elgg_echo('widget_manager:widgets:ongarde_toolbox:homeHeading')."</h3>";
	}						
		
	$user=elgg_get_logged_in_user_entity();
	if($user){
		$language=$user->language;
	} else {		
		$language=elgg_get_config("language");
	}
	
	if(!in_array($language, array("en","fr"))){
		$language="en";
	}
	
	function isRoleActive($role){
		if(isset($_SESSION['role'])){
			if($_SESSION['role']==$role){
				return "active";
			}
		} elseif($role=="all") {
			return "active";
		}
	}
?>
		

<div class="toolbox">
	
	<? if($message){ echo $message; } ?>

	<ul class="roles">
		<li class="all <?=isRoleActive("all")?>"><a href="./?role=none" title="Home"><span><?=elgg_echo('widget_manager:widgets:ongarde_toolbox:home')?></a><h6><?=elgg_echo('widget_manager:widgets:ongarde_toolbox:home')?></h6></li>
<li class="learner <?=isRoleActive("learner")?>"><a href="./?role=learner" title="Learners"><span><?=elgg_echo('widget_manager:widgets:ongarde_toolbox:learners')?></span></a><h6><?=elgg_echo('widget_manager:widgets:ongarde_toolbox:learners')?></h6></li>		
<li class="instructor <?=isRoleActive("instructor")?>"><a href="./?role=instructor" title="Instructors"><span><?=elgg_echo('widget_manager:widgets:ongarde_toolbox:instructors')?></span></a><h6><?=elgg_echo('widget_manager:widgets:ongarde_toolbox:instructors')?></h6></li>
		<li class="developer <?=isRoleActive("developer")?>"><a href="./?role=developer" title="Developers"><span><?=elgg_echo('widget_manager:widgets:ongarde_toolbox:developers')?></span></a><h6><?=elgg_echo('widget_manager:widgets:ongarde_toolbox:developers')?></h6></li>
		<li class="trainingmgr <?=isRoleActive("trainingmgr")?>"><a href="./?role=trainingmgr" title="Training Mgrs/Mgmt"><span><?=elgg_echo('widget_manager:widgets:ongarde_toolbox:trainingmgr')?></span></a><h6><?=elgg_echo('widget_manager:widgets:ongarde_toolbox:trainingmgr')?></h6></li>
	</ul>
	<h5><?=elgg_echo('widget_manager:widgets:ongarde_toolbox:availableTools')?>:</h5>
	<ul class="tools">
		<?php
		foreach($linkArray as $type){	
			foreach($type as $link){
				echo "<li class='$role'>{$link[$language]}</li>";
			}
		}				
		?>
	</ul>	
</div>
